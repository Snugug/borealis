/*! Borealis (with polyfills) v1.1.0 (c) 2013-2015 Sam Richard with thanks to the Financial Times, MIT license */
!function(){Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw new TypeError("Object.getPrototypeOf called on non-object");return e.constructor?e.constructor.prototype:null}),window.requestAnimationFrame||!function(e){"use strict";var t=(new Date).getTime(),n=t;e.requestAnimationFrame=function(e){var o=(new Date).getTime(),r=Math.max(0,16-(o-n));return n=o,setTimeout(function(){n=(new Date).getTime(),e(n-t)},r)},e.cancelAnimationFrame=function(e){clearTimeout(e)}}(this),!1 in window&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))})}(),function(e){"use strict";function t(){this.nodes=[],this.brlLength=0,this.widths=[],this.points=[],this.callback=void 0}function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){return n.call(e,window.event)})}t.prototype.query=function(t,n){var o,r=Object.getPrototypeOf(e);n&&"function"==typeof n&&(r.callback=n),t&&"number"!=typeof t?o=t.length:(t=r.nodes,o=r.nodesLength);var i,s=[],a=[];for(i=0;o>i;i++){s.push(t[i].offsetWidth);try{a.push(r.sortObj(t[i].getAttribute("data-borealis-srcs")))}catch(u){a.push({})}}r.widths=s,r.points=a,t&&"number"!=typeof t?r.nodeWrites(t,s,a):n&&"function"!=typeof n?r.nodeWrites():window.requestAnimationFrame(r.nodeWrites)},t.prototype.nodeWrites=function(t){var n,o,r,i=Object.getPrototypeOf(e),s=i.widths,a=i.points;for(t&&"number"!=typeof t?o=t.length:(t=i.nodes,o=i.nodesLength),n=0;o>n;n++){var u=s[n],c=t[n],d=a[n],l=d.length;if(1===l)c.setAttribute("src",d[0].value);else if(u<d[1].key)c.setAttribute("src",d[0].value);else if(u>=d[l-1].key)c.setAttribute("src",d[l-1].value);else for(var f=0;l>f;f++){var p=d[f],y=d[f+1];if(0===f&&u<p.key){c.setAttribute("src",d[0].value);break}if(void 0===y.key){c.setAttribute("src",y.value);break}if(u>=p.key&&u<y.key){c.setAttribute("src",p.value);break}}}i.callback&&(r=i.callback,i.callback=void 0,r(t))},t.prototype.refreshNodes=function(){var t=Object.getPrototypeOf(e);t.nodes=document.querySelectorAll("[data-borealis-srcs]"),t.nodesLength=t.nodes.length},t.prototype.sortObj=function(e){for(var t=[],n=e.split(","),o=0;o<n.length;o++)if(0===o)t.push({key:-1,value:n[o]});else{var r=n[o].replace(/:+/,"").split("");t.push({key:parseFloat(r[0]),value:r[1].replace(/^\s+|\s+$/g,"")})}return t.sort(function(e,t){return e.value-t.value})},t.prototype.styleImages=function(t){t=t||Object.getPrototypeOf(e).nodes;for(var n=t.length,o=0;n>o;o++)t[o].style.width="100%",t[o].style.height="auto"},e=e||new t,n(window,"DOMContentLoaded",function(){e.refreshNodes(),e.styleImages(),e.query(void 0,!0)}),n(window,"resize",function(){e.refreshNodes(),window.requestAnimationFrame(e.query)}),"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.borealis=e}(window.borealis);
//# sourceMappingURL=borealis.polyfilled.min.js.map