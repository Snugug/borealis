/*! Borealis v1.0.1 (c) 2013-2015 Sam Richard, MIT license */
!function(e){"use strict";function t(){this.nodes=[],this.brlLength=0,this.widths=[],this.points=[],this.callback=void 0}function o(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent("on"+t,function(){return o.call(e,window.event)})}t.prototype.query=function(t,o){var n,r=Object.getPrototypeOf(e);o&&"function"==typeof o&&(r.callback=o),t&&"number"!=typeof t?n=t.length:(t=r.nodes,n=r.nodesLength);var s,i=[],a=[];for(s=0;n>s;s++){i.push(t[s].offsetWidth);try{a.push(r.sortObj(t[s].getAttribute("data-borealis-srcs")))}catch(u){a.push({})}}r.widths=i,r.points=a,t&&"number"!=typeof t?r.nodeWrites(t,i,a):o&&"function"!=typeof o?r.nodeWrites():window.requestAnimationFrame(r.nodeWrites)},t.prototype.nodeWrites=function(t){var o,n,r,s=Object.getPrototypeOf(e),i=s.widths,a=s.points;for(t&&"number"!=typeof t?n=t.length:(t=s.nodes,n=s.nodesLength),o=0;n>o;o++){var u=i[o],l=t[o],d=a[o],f=d.length;if(1===f)l.setAttribute("src",d[0].value);else if(u<d[1].key)l.setAttribute("src",d[0].value);else if(u>=d[f-1].key)l.setAttribute("src",d[f-1].value);else for(var c=0;f>c;c++){var p=d[c],y=d[c+1];if(0===c&&u<p.key){l.setAttribute("src",d[0].value);break}if(void 0===y.key){l.setAttribute("src",y.value);break}if(u>=p.key&&u<y.key){l.setAttribute("src",p.value);break}}}s.callback&&(r=s.callback,s.callback=void 0,r(t))},t.prototype.refreshNodes=function(){var t=Object.getPrototypeOf(e);t.nodes=document.querySelectorAll("[data-borealis-srcs]"),t.nodesLength=t.nodes.length},t.prototype.sortObj=function(e){for(var t=[],o=e.split(","),n=0;n<o.length;n++)if(0===n)t.push({key:-1,value:o[n]});else{var r=o[n].replace(/:+/,"").split("");t.push({key:parseFloat(r[0]),value:r[1].replace(/^\s+|\s+$/g,"")})}return t.sort(function(e,t){return e.value-t.value})},t.prototype.styleImages=function(t){t=t||Object.getPrototypeOf(e).nodes;for(var o=t.length,n=0;o>n;n++)t[n].style.width="100%",t[n].style.height="auto"},e=e||new t,o(window,"DOMContentLoaded",function(){e.refreshNodes(),e.styleImages(),e.query(void 0,!0)}),o(window,"resize",function(){e.refreshNodes(),window.requestAnimationFrame(e.query)}),"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.borealis=e}(window.borealis);
//# sourceMappingURL=borealis.min.js.map